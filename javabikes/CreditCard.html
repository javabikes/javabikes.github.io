<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_72) on Sun Apr 17 13:20:42 CEST 2016 -->
<title>CreditCard</title>
<meta name="date" content="2016-04-17">
<link rel="stylesheet" type="text/css" href="../stylesheet.css" title="Style">
<script type="text/javascript" src="../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="CreditCard";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":9,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">javabikes</div>
<h2 title="Class CreditCard" class="title">Class CreditCard</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>javabikes.CreditCard</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">CreditCard</span>
extends java.lang.Object</pre>
<div class="block">Represents the credit card used by the customer 
 to pay for the bike's rent. Currently, the system
 accepts only valid MasterCard and Visa cards.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../javabikes/CreditCard.html#cvvCode">cvvCode</a></span></code>
<div class="block">CVV code of the credit card.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../javabikes/CreditCard.html#expiryDate">expiryDate</a></span></code>
<div class="block">Expiry date of the credit card, saved in 
 the MM/YYYY format.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../javabikes/CreditCard.html#number">number</a></span></code>
<div class="block">Number of the credit card.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../javabikes/CreditCard.html#CreditCard--">CreditCard</a></span>()</code>
<div class="block">Constructor of the <code>CreditCard</code> object.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>private static java.lang.Boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../javabikes/CreditCard.html#checkCardNumber-java.lang.String-">checkCardNumber</a></span>(java.lang.String&nbsp;cardNumber)</code>
<div class="block">This methods checks whether the card number is valid.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../javabikes/CreditCard.html#getCvvCode--">getCvvCode</a></span>()</code>
<div class="block">Getter method, it gives back the card's CVV
 code.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../javabikes/CreditCard.html#getExpiryDate--">getExpiryDate</a></span>()</code>
<div class="block">Getter method, it gives back the card's expiry
 date.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../javabikes/CreditCard.html#getHiddenNumber--">getHiddenNumber</a></span>()</code>
<div class="block">Custom getter method, it gives back the last four
 digits of the card's number.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../javabikes/CreditCard.html#getNumber--">getNumber</a></span>()</code>
<div class="block">Getter method, it gives back the card's number.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>private java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../javabikes/CreditCard.html#inputCvvCode--">inputCvvCode</a></span>()</code>
<div class="block">This methods prompts the user to enter the CVV code of 
 the credit card he/she wishes to use for the payment.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>private java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../javabikes/CreditCard.html#inputExpiryDate--">inputExpiryDate</a></span>()</code>
<div class="block">This methods prompts the user to enter the expiry date of 
 the credit card he/she wishes to use for the payment.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>private java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../javabikes/CreditCard.html#inputNumber--">inputNumber</a></span>()</code>
<div class="block">This methods prompts the user to enter the number of 
 the credit card he/she wishes to use for the payment.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../javabikes/CreditCard.html#makePayment--">makePayment</a></span>()</code>
<div class="block">This methods fakes the payment.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="cvvCode">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cvvCode</h4>
<pre>private&nbsp;java.lang.String cvvCode</pre>
<div class="block">CVV code of the credit card.</div>
</li>
</ul>
<a name="expiryDate">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>expiryDate</h4>
<pre>private&nbsp;java.lang.String expiryDate</pre>
<div class="block">Expiry date of the credit card, saved in 
 the MM/YYYY format.</div>
</li>
</ul>
<a name="number">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>number</h4>
<pre>private&nbsp;java.lang.String number</pre>
<div class="block">Number of the credit card. It is saved as a 
 String, since it is easier to manipulate.</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="CreditCard--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>CreditCard</h4>
<pre>CreditCard()</pre>
<div class="block">Constructor of the <code>CreditCard</code> object. It 
 prints out some useful informations, and then it 
 asks the user to enter the card's data through the
 <code>inputNumber()</code>, <code>inputExpiryData()</code> and 
 <code>inputCvvCode()</code> methods.</div>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="checkCardNumber-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkCardNumber</h4>
<pre>private static&nbsp;java.lang.Boolean&nbsp;checkCardNumber(java.lang.String&nbsp;cardNumber)</pre>
<div class="block">This methods checks whether the card number is valid. Since
 the programs accepts only valid MasterCard and Visa cards,
 the number must start with either "4" (Visa) or "51-55" 
 (MasterCard). Moreover, the number of a credit card is not 
 random: it must be checked against the Luhn's algorithm, that 
 can detect single-digits errors and almost all transposition
 of adjacent digits.
 <br>
 <br>
 To check if a card number satisfies the Luhn's algorithm, the 
 process is fairly simple:
 <ul><li>Reverse the number: first line of the method.</li>
 <li>Sum all the odd digits: <code>sumOdd += currentDigit</code>.</li>
 <li>Multiply each even digit by two; if the result is greater 
 than nine, sum the digits of the result. Then, sum all the partial
 results (either evenDigit*2 or sum of the digits of evenDigit*2). This
 sum is stored in the <code>sumEven</code> variable. </li>
 <li>Only if the sum of <code>sumOdd</code> and <code>sumEven</code> can be
 divided by 10, the number is valid.</li></ul>
 <br>
 If the number is valid, <code>validNumber</code> will be true, otherwise, 
 it will be false.
 <br>
 <br>
 To check if the card is a valid MasterCard or Visa, it is enough 
 to check the first one or two digits of it:
 <ul><li>If the first digit is a "4", it is a valid Visa card.</li>
 <li>If the first digit is a "5", then the second digit must be checked, and it
 must be equal to a number between 1 and 5.</li></ul>
 <br>
 If the number starts with a the right digit, <code>validVisaOrMc</code>
 will be true, otherwise it will be false. 
 <br>
 <br>
 This method will return true if and only if the number satisfies the 
 Luhn's algorithm AND it is a MasterCard or Visa card: 
 <code>return validNumber AND validVisaOrMc</code>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>cardNumber</code> - number of the credit card that has to be checked.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Boolean</dd>
</dl>
</li>
</ul>
<a name="getCvvCode--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCvvCode</h4>
<pre>public&nbsp;java.lang.String&nbsp;getCvvCode()</pre>
<div class="block">Getter method, it gives back the card's CVV
 code.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>String.</dd>
</dl>
</li>
</ul>
<a name="getExpiryDate--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getExpiryDate</h4>
<pre>public&nbsp;java.lang.String&nbsp;getExpiryDate()</pre>
<div class="block">Getter method, it gives back the card's expiry
 date.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>String.</dd>
</dl>
</li>
</ul>
<a name="getHiddenNumber--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getHiddenNumber</h4>
<pre>public&nbsp;java.lang.String&nbsp;getHiddenNumber()</pre>
<div class="block">Custom getter method, it gives back the last four
 digits of the card's number.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>String.</dd>
</dl>
</li>
</ul>
<a name="getNumber--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNumber</h4>
<pre>public&nbsp;java.lang.String&nbsp;getNumber()</pre>
<div class="block">Getter method, it gives back the card's number.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>String.</dd>
</dl>
</li>
</ul>
<a name="inputCvvCode--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>inputCvvCode</h4>
<pre>private&nbsp;java.lang.String&nbsp;inputCvvCode()</pre>
<div class="block">This methods prompts the user to enter the CVV code of 
 the credit card he/she wishes to use for the payment. 
 <br>
 <br>
 The CVV code does not have a fixed template or style: the 
 only condition that the input must satisfy in order to be 
 valid is that it must be composed by three digits. 
 <br>
 <br>
 The only other input that is accepted is the string "quit". 
 If the user enters this string, the booking is aborted and
 the program terminates.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>String.</dd>
</dl>
</li>
</ul>
<a name="inputExpiryDate--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>inputExpiryDate</h4>
<pre>private&nbsp;java.lang.String&nbsp;inputExpiryDate()</pre>
<div class="block">This methods prompts the user to enter the expiry date of 
 the credit card he/she wishes to use for the payment. 
 <br>
 <br>
 The input is checked twice:
 <ul><li>In order to exit the inner do-while loop, the 
 input must respect the fixed expiry date format: it is checked
 against a regular expression that allows only a MM/YYYY input.</li>
 <li>In order to exit the outer do-while loop, the input
 must be a valid expiry date. A valid date can be either in the
 current year (but the month must be greater than the current month) or 
 in the following years (any month is fine). To check if 
 this is true, the input is splitted in two variables (month 
 and year) and they are checked against the current month and year,
 received from the Calendar object. If the date is valid, the 
 <code>dateChecker</code> variable will be set to true.</li></ul>
 <br>
 A remark: the outer do-while loop would be satisfied also with a 
 date such as 18/2020, but months exist only between 1 and 12; in order
 to avoid any possible errors, the outer do-while loop exits only if 
 <code>dateChecker</code> is true AND the month is not bigger than 12. 
 <br>
 <br>
 The only other input that is accepted is the string "quit". 
 If the user enters this string, the booking is aborted and
 the program terminates.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>String.</dd>
</dl>
</li>
</ul>
<a name="inputNumber--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>inputNumber</h4>
<pre>private&nbsp;java.lang.String&nbsp;inputNumber()</pre>
<div class="block">This methods prompts the user to enter the number of 
 the credit card he/she wishes to use for the payment. 
 <br>
 <br>
 The input is checked twice:
 <ul><li>In order to exit the inner do-while loop, the 
 input must be composed only by a fixed number of digits. 
 This number is equal to 13, 16 or 19, which is the number
 of digits of valid Mastercard and Visa cards. </li>
 <li>In order to exit the outer do-while loop, the input
 must be a valid credit card number. The method 
 <code>checkCardNumber(cardNumber)</code> is explained below; 
 it returns true if the number is valid, otherwise
 it returns false</li></ul>
 <br>
 The only other input that is accepted is the string "quit". 
 If the user enters this string, the booking is aborted and
 the program terminates.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>String.</dd>
</dl>
</li>
</ul>
<a name="makePayment--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>makePayment</h4>
<pre>public&nbsp;void&nbsp;makePayment()</pre>
<div class="block">This methods fakes the payment. It just prints out 
 a loading bar, by using the <code>Thread.sleep()</code> method in a 
 <code>for</code> loop. The loop is executed 31 times (just because
 this number fits the width of the other output of the program); each 
 time it is executed, it prints out a "=" and then it stops for 75 milliseconds. 
 <br>
 <br>
 If the <code>Thread.sleep()</code> is interrupted, it will raise an 
 exception that is being cought; this exception will cause the payment
 to be aborted, and the program to exit.</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
</body>
</html>
